{
  "id": "approval-buttons",
  "name": "Approval Buttons",
  "description": "Adds inline buttons to exec approval messages in Telegram and Slack. Tap to approve/deny without typing commands.",
  "version": "5.0.0",
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "chatId": {
        "type": "string",
        "description": "Telegram chat ID where approval buttons are sent. Falls back to channels.telegram.allowFrom[0]."
      },
      "botToken": {
        "type": "string",
        "description": "Telegram bot token. Falls back to channels.telegram.token or TELEGRAM_BOT_TOKEN env."
      },
      "slackBotToken": {
        "type": "string",
        "description": "Slack bot OAuth token. Falls back to channels.slack.token or SLACK_BOT_TOKEN env."
      },
      "slackChannelId": {
        "type": "string",
        "description": "Slack channel or DM ID for approval buttons. Falls back to channels.slack.allowFrom[0] or SLACK_CHANNEL_ID env."
      },
      "staleMins": {
        "type": "number",
        "description": "Minutes before a pending approval is considered stale and cleaned up.",
        "default": 10
      },
      "verbose": {
        "type": "boolean",
        "description": "Enable verbose diagnostic logging.",
        "default": false
      }
    }
  },
  "uiHints": {
    "chatId": {
      "label": "Telegram Chat ID",
      "placeholder": "123456789",
      "help": "Auto-detected from channels.telegram.allowFrom if not set.",
      "advanced": false
    },
    "botToken": {
      "label": "Telegram Bot Token",
      "sensitive": true,
      "placeholder": "Auto-detected from channels.telegram.token",
      "help": "Only needed if different from the main Telegram channel token."
    },
    "slackBotToken": {
      "label": "Slack Bot Token",
      "sensitive": true,
      "placeholder": "Auto-detected from channels.slack.token",
      "help": "Only needed if different from the main Slack channel token."
    },
    "slackChannelId": {
      "label": "Slack Channel/DM ID",
      "placeholder": "U0123456789 or D0123456789",
      "help": "Your Slack user ID for DM buttons, or a channel ID. Auto-detected from channels.slack.allowFrom if not set."
    },
    "staleMins": {
      "label": "Stale Timeout (min)",
      "placeholder": "10",
      "advanced": true
    },
    "verbose": {
      "label": "Verbose Logging",
      "advanced": true
    }
  }
}
